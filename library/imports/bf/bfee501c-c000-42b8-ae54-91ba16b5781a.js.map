{"version":3,"sources":["../../../../../../assets/lcGame/scripts/mgr/assets/lcGame/scripts/mgr/lc_login_manage.js"],"names":["window","lc","LoginMgr","cc","Class","extends","Component","properties","_bLogin","_bCheckLogin","_playerStatusInfo","init","onLoginSuccess","data","beginCheckLogin","onDestroy","tm","notifierCenter","ignoreScope","game","schedule","_stepCheckLogin","_enterLobbyScene","_cleanUp","sceneMgr","preloadScene","unschedule"],"mappings":";;;;;;AAAA;;;;;;AAMAA,OAAOC,EAAP,GAAYD,OAAOC,EAAP,IAAa,EAAzB;;AAEAA,GAAGC,QAAH,GAAcC,GAAGC,KAAH,CAAS;;AAEnBC,aAAQF,GAAGG,SAFQ;;AAInBC,gBAAa;AACTC,iBAAQ,KADC;AAETC,sBAAa,KAFJ;AAGTC,2BAAmB,IAHV,CAGgB;AAHhB,KAJM;;AAUnBC,UAAO,gBAAY,CAElB,CAZkB;;AAcnB;;;;AAIAC,oBAAiB,wBAAUC,IAAV,EAAgB;AAC7B,aAAKC,eAAL;AACH,KApBkB;;AAsBnB;;;AAGAC,eAAY,qBAAY;AACpBC,WAAGC,cAAH,CAAkBC,WAAlB,CAA8B,IAA9B;;AAEA,YAAGjB,GAAGkB,IAAN,EAAY;AACRlB,eAAGkB,IAAH,CAAQD,WAAR,CAAoB,IAApB;AACH;AACJ,KA/BkB;;AAiCnB;;;AAGAJ,qBAAkB,2BAAW;AACzB,YAAG,CAAC,KAAKL,YAAT,EAAsB;AAClB,iBAAKW,QAAL,CAAc,KAAKC,eAAnB,EAAoC,GAApC;AACH;;AAED,aAAKZ,YAAL,GAAoB,IAApB;AACH,KA1CkB;;AA4CnB;;;;AAIAY,qBAAkB,2BAAW;AACzB,YAAG,KAAKb,OAAR,EAAgB;AACZ,iBAAKc,gBAAL;AACH;AACJ,KApDkB;;AAsDnB;;;;AAIAA,sBAAkB,4BAAY;AAC1B,aAAKC,QAAL;AACAP,WAAGQ,QAAH,CAAYC,YAAZ,CAAyB,eAAzB;AACH,KA7DkB;;AA+DnB;;;;AAIAF,cAAU,oBAAY;AAClB,aAAKG,UAAL,CAAgB,KAAKL,eAArB;AACA,aAAKb,OAAL,GAAe,KAAf;AACA,aAAKC,YAAL,GAAoB,KAApB;AACH;AAvEkB,CAAT,CAAd","file":"lc_login_manage.js","sourceRoot":"../../../../../../assets/lcGame/scripts/mgr","sourcesContent":["/**\n *\n * 内容: 用户登陆管理\n *\n */\n\nwindow.lc = window.lc || {};\n\nlc.LoginMgr = cc.Class({\n\n    extends:cc.Component,\n\n    properties : {\n        _bLogin:false,\n        _bCheckLogin:false,\n        _playerStatusInfo: null, // 玩家状态\n    },\n\n    init : function () {\n\n    },\n\n    /**\n     * 登陆成功\n     * @param data\n     */\n    onLoginSuccess : function (data) {\n        this.beginCheckLogin();\n    },\n\n    /**\n     * 释放函数\n     */\n    onDestroy : function () {\n        tm.notifierCenter.ignoreScope(this);\n\n        if(lc.game) {\n            lc.game.ignoreScope(this);\n        }\n    },\n\n    /**\n     * 开始检测登录\n     */\n    beginCheckLogin : function (){\n        if(!this._bCheckLogin){\n            this.schedule(this._stepCheckLogin, 0.1);\n        }\n\n        this._bCheckLogin = true;\n    },\n\n    /**\n     * 登陆成功\n     * @private\n     */\n    _stepCheckLogin : function (){\n        if(this._bLogin){\n            this._enterLobbyScene();\n        }\n    },\n\n    /**\n     * 进入大厅\n     * @private\n     */\n    _enterLobbyScene: function () {\n        this._cleanUp();\n        tm.sceneMgr.preloadScene(\"pltLobbyScene\");\n    },\n\n    /**\n     * 清除\n     * @private\n     */\n    _cleanUp: function () {\n        this.unschedule(this._stepCheckLogin);\n        this._bLogin = false;\n        this._bCheckLogin = false;\n    },\n});"]}