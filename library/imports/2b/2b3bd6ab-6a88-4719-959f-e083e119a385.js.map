{"version":3,"sources":["../../../../../../assets/lcGame/scripts/mgr/assets/lcGame/scripts/mgr/lc_game_hinder_factory.js"],"names":["window","lc","GameHinderFactory","cc","Class","extends","Component","properties","hinderMap","init","_initHinderMap","hinderBox","game","asssetMgr","getPrefabByName","GameType","HinderType","Box","createHinderByType","type","hinder","prefab","instantiate","logic","getComponent","priority","Priority","itemType","ItemType","tm","LOGD","createItemByType","onDestroy","notifierCenter","ignoreScope"],"mappings":";;;;;;AAAA;;;;AAIAA,OAAOC,EAAP,GAAYD,OAAOC,EAAP,IAAa,EAAzB;;AAEAA,GAAGC,iBAAH,GAAuBC,GAAGC,KAAH,CAAS;;AAE5BC,aAAQF,GAAGG,SAFiB;;AAI5BC,gBAAa;AACTC,mBAAW,IADF,CACQ;AADR,KAJe;;AAQ5BC,UAAO,gBAAY;AACf,aAAKC,cAAL;AACH,KAV2B;;AAY5B;;;;AAIAA,kBAhB4B,4BAgBV;AACd,aAAKF,SAAL,GAAiB,EAAjB;;AAEA,YAAIG,YAAYV,GAAGW,IAAH,CAAQC,SAAR,CAAkBC,eAAlB,CAAkC,oBAAlC,CAAhB;AACA,aAAKN,SAAL,CAAeP,GAAGc,QAAH,CAAYC,UAAZ,CAAuBC,GAAtC,IAA6CN,SAA7C;AAEH,KAtB2B;;;AAwB5B;;;AAGAO,sBA3B4B,8BA2BRC,IA3BQ,EA2BF;AACtB,YAAIC,SAAS,IAAb;AACA,YAAIC,SAAS,KAAKb,SAAL,CAAeW,IAAf,CAAb;;AAEA,YAAGE,MAAH,EAAW;AACPD,qBAASjB,GAAGmB,WAAH,CAAeD,MAAf,CAAT;AACA,gBAAIE,QAAQH,OAAOI,YAAP,CAAoB,mBAApB,CAAZ;AACAJ,mBAAOK,QAAP,GAAkBF,MAAMG,QAAxB;AACAN,mBAAOO,QAAP,GAAkBJ,MAAMK,QAAxB;AACH,SALD,MAKO;AACHC,eAAGC,IAAH,CAAQ,IAAR,EAAc,oBAAoBX,IAAlC;AACH;;AAED,eAAOC,MAAP;AACH,KAzC2B;;;AA2C5B;;;AAGAW,oBA9C4B,4BA8CVZ,IA9CU,EA8CJ;AACpB,YAAIC,SAAS,KAAKF,kBAAL,CAAwBC,IAAxB,CAAb;;AAEA,eAAOC,MAAP;AACH,KAlD2B;;;AAoD5B;;;AAGAY,aAvD4B,uBAuDf;AACTH,WAAGI,cAAH,CAAkBC,WAAlB,CAA8B,IAA9B;;AAEA,YAAGjC,GAAGW,IAAN,EAAY;AACRX,eAAGW,IAAH,CAAQsB,WAAR,CAAoB,IAApB;AACH;AACJ;AA7D2B,CAAT,CAAvB","file":"lc_game_hinder_factory.js","sourceRoot":"../../../../../../assets/lcGame/scripts/mgr","sourcesContent":["/**\n * 内容：障碍物工厂\n * @type {*|{}}\n */\nwindow.lc = window.lc || {};\n\nlc.GameHinderFactory = cc.Class({\n\n    extends:cc.Component,\n\n    properties : {\n        hinderMap: null, // 障碍物列表\n    },\n\n    init : function () {\n        this._initHinderMap();\n    },\n\n    /**\n     * 初始化组件库\n     * @private\n     */\n    _initHinderMap () {\n        this.hinderMap = {};\n\n        let hinderBox = lc.game.asssetMgr.getPrefabByName(\"lc_game_hinder_box\");\n        this.hinderMap[lc.GameType.HinderType.Box] = hinderBox;\n\n    },\n\n    /**\n     * 通过类型创建糖果\n     */\n    createHinderByType (type) {\n        let hinder = null;\n        let prefab = this.hinderMap[type];\n\n        if(prefab) {\n            hinder = cc.instantiate(prefab);\n            let logic = hinder.getComponent('lc_game_item_base');\n            hinder.priority = logic.Priority;\n            hinder.itemType = logic.ItemType;\n        } else {\n            tm.LOGD(true, \"没有这个障碍物的prefab：\" + type);\n        }\n\n        return hinder;\n    },\n\n    /**\n     * 通过类型创建元素\n     */\n    createItemByType (type) {\n        let hinder = this.createHinderByType(type);\n\n        return hinder;\n    },\n\n    /**\n     * 释放函数\n     */\n    onDestroy () {\n        tm.notifierCenter.ignoreScope(this);\n\n        if(lc.game) {\n            lc.game.ignoreScope(this);\n        }\n    }\n});"]}