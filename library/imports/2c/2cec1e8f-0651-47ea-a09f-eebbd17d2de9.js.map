{"version":3,"sources":["../../../../../assets/commonScript/common/assets/commonScript/common/tm_base_model.js"],"names":["window","tm","BaseModel","cc","Class","properties","_notifierCenter","_callbacks","model_name","data","get","_data","set","value","JSON","parse","stringify","ctor","arguments","CHANGE_MSG","destroy","_super","getValue","key","defaultValue","undefined","setValue","isTrigger","trigger","result","module","exports"],"mappings":";;;;;;AAAA;;;;;;AAMAA,OAAOC,EAAP,GAAYD,OAAOC,EAAP,IAAa,EAAzB;;AAEAA,GAAGC,SAAH,GAAeC,GAAGC,KAAH,CAAS;;AAEpBC,gBAAW;AACPC,yBAAgB,IADT;AAEPC,oBAAW,IAFJ;AAGPC,oBAAW,IAHJ;;AAKPC,cAAK;;AAEDC,iBAAK,eAAY;AACb,uBAAO,KAAKC,KAAZ;AACH,aAJA;;AAMDC,iBAAK,aAAUC,KAAV,EAAiB;AAClB;AACA,qBAAKF,KAAL,GAAaG,KAAKC,KAAL,CAAWD,KAAKE,SAAL,CAAeH,KAAf,CAAX,CAAb;AACH;AATA;AALE,KAFS;AAmBpB;;;;AAIAI,UAAK,gBAAW;AACZ,aAAKT,UAAL,GAAkBU,UAAU,CAAV,CAAlB;AACA,aAAKZ,eAAL,GAAuBY,UAAU,CAAV,CAAvB;;AAEA,aAAKC,UAAL,GAAkB,KAAKX,UAAL,GAAkB,SAApC;AACH,KA5BmB;;AA+BpBY,aAAU,mBAAY;AAClB,aAAKT,KAAL,GAAa,IAAb;AACA,aAAKH,UAAL,GAAkB,IAAlB;;AAEA,aAAKa,MAAL;AACH,KApCmB;;AAsCpBC,cAAU,kBAAUC,GAAV,EAAeC,YAAf,EAA6B;AACnC,YAAI,CAAC,KAAKb,KAAN,IAAe,KAAKA,KAAL,CAAWY,GAAX,MAAoBE,SAAvC,EAAkD;AAC9C,mBAAOD,YAAP;AACH;AACD,eAAO,KAAKb,KAAL,CAAWY,GAAX,CAAP;AACH,KA3CmB;;AA6CpBG,cAAU,kBAAUH,GAAV,EAAeV,KAAf,EAAsBc,SAAtB,EAAiC;AACvC,YAAI,KAAKhB,KAAL,CAAWY,GAAX,KAAmBE,SAAvB,EAAkC;AAC9B,iBAAKd,KAAL,CAAWY,GAAX,IAAkBV,KAAlB;AACH,SAFD,MAEO;;AAEPc,oBAAY,OAAOA,SAAP,IAAoB,SAApB,GAAgCA,SAAhC,GAA4C,IAAxD;AACA,YAAIA,SAAJ,EAAe;AACX,iBAAKrB,eAAL,CAAqBsB,OAArB,CAA6B,KAAKT,UAAlC,EAA8CI,GAA9C,EAAmDV,KAAnD;AACH;AACJ,KAtDmB;;AAwDpBE,WAAQ,eAAUc,MAAV,EAAkB,CAAG;AAxDT,CAAT,CAAf;;AA4DAC,OAAOC,OAAP,GAAiB9B,GAAGC,SAApB","file":"tm_base_model.js","sourceRoot":"../../../../../assets/commonScript/common","sourcesContent":["/**\n *\n * 内容: tm.BaseModel\n *\n */\n\nwindow.tm = window.tm || {};\n\ntm.BaseModel = cc.Class({\n\n    properties:{\n        _notifierCenter:null,\n        _callbacks:null,\n        model_name:null,\n\n        data:{\n\n            get: function () {\n                return this._data;\n            },\n\n            set: function (value) {\n                //this._data = cc.clone(value);\n                this._data = JSON.parse(JSON.stringify(value));\n            }\n        }\n    },\n    /**\n     * arg0: name\n     * arg1: 触发器\n     */\n    ctor:function() {\n        this.model_name = arguments[0];\n        this._notifierCenter = arguments[1];\n\n        this.CHANGE_MSG = this.model_name + '_change';\n    },\n\n\n    destroy : function () {\n        this._data = null;\n        this.model_name = null;\n\n        this._super();\n    },\n\n    getValue: function (key, defaultValue) {\n        if (!this._data || this._data[key] === undefined) {\n            return defaultValue\n        }\n        return this._data[key]\n    },\n\n    setValue: function (key, value, isTrigger) {\n        if (this._data[key] != undefined) {\n            this._data[key] = value\n        } else return;\n\n        isTrigger = typeof isTrigger == 'Boolean' ? isTrigger : true;\n        if (isTrigger) {\n            this._notifierCenter.trigger(this.CHANGE_MSG, key, value)\n        }\n    },\n\n    parse : function (result) { }\n});\n\n\nmodule.exports = tm.BaseModel;"]}