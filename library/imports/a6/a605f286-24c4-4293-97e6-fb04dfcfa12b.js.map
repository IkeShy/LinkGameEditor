{"version":3,"sources":["../../../../../../assets/lcGame/scripts/mgr/assets/lcGame/scripts/mgr/lc_game_sweets_factory.js"],"names":["window","lc","GameSweetsFactory","cc","Class","extends","Component","properties","sweetsMap","init","_initSweetsMap","sweets_blue","game","asssetMgr","getPrefabByName","GameType","SweetsType","Blue","sweets_yellow","Yellow","sweets_pink","Pink","sweets_green","Green","sweets_red","Red","createSweetsByType","type","sweets","prefab","instantiate","logic","getComponent","priority","Priority","itemType","ItemType","tm","LOGD","createItemByType","onDestroy","notifierCenter","ignoreScope"],"mappings":";;;;;;AAAA;;;;AAIAA,OAAOC,EAAP,GAAYD,OAAOC,EAAP,IAAa,EAAzB;;AAEAA,GAAGC,iBAAH,GAAuBC,GAAGC,KAAH,CAAS;;AAE5BC,aAAQF,GAAGG,SAFiB;;AAI5BC,gBAAa;AACTC,mBAAW,IADF,CACQ;AADR,KAJe;;AAQ5BC,UAAO,gBAAY;AACf,aAAKC,cAAL;AACH,KAV2B;;AAY5B;;;;AAIAA,kBAhB4B,4BAgBV;AACd,aAAKF,SAAL,GAAiB,EAAjB;;AAEA,YAAIG,cAAcV,GAAGW,IAAH,CAAQC,SAAR,CAAkBC,eAAlB,CAAkC,qBAAlC,CAAlB;AACA,aAAKN,SAAL,CAAeP,GAAGc,QAAH,CAAYC,UAAZ,CAAuBC,IAAtC,IAA8CN,WAA9C;;AAEA,YAAIO,gBAAgBjB,GAAGW,IAAH,CAAQC,SAAR,CAAkBC,eAAlB,CAAkC,uBAAlC,CAApB;AACA,aAAKN,SAAL,CAAeP,GAAGc,QAAH,CAAYC,UAAZ,CAAuBG,MAAtC,IAAgDD,aAAhD;;AAEA,YAAIE,cAAcnB,GAAGW,IAAH,CAAQC,SAAR,CAAkBC,eAAlB,CAAkC,qBAAlC,CAAlB;AACA,aAAKN,SAAL,CAAeP,GAAGc,QAAH,CAAYC,UAAZ,CAAuBK,IAAtC,IAA8CD,WAA9C;;AAEA,YAAIE,eAAerB,GAAGW,IAAH,CAAQC,SAAR,CAAkBC,eAAlB,CAAkC,sBAAlC,CAAnB;AACA,aAAKN,SAAL,CAAeP,GAAGc,QAAH,CAAYC,UAAZ,CAAuBO,KAAtC,IAA+CD,YAA/C;;AAEA,YAAIE,aAAavB,GAAGW,IAAH,CAAQC,SAAR,CAAkBC,eAAlB,CAAkC,oBAAlC,CAAjB;AACA,aAAKN,SAAL,CAAeP,GAAGc,QAAH,CAAYC,UAAZ,CAAuBS,GAAtC,IAA6CD,UAA7C;AACH,KAjC2B;;;AAmC5B;;;AAGAE,sBAtC4B,8BAsCRC,IAtCQ,EAsCF;AACtB,YAAIC,SAAS,IAAb;AACA,YAAIC,SAAS,KAAKrB,SAAL,CAAemB,IAAf,CAAb;;AAEA,YAAGE,MAAH,EAAW;AACPD,qBAASzB,GAAG2B,WAAH,CAAeD,MAAf,CAAT;AACA,gBAAIE,QAAQH,OAAOI,YAAP,CAAoB,qBAApB,CAAZ;AACAJ,mBAAOK,QAAP,GAAkBF,MAAMG,QAAxB;AACAN,mBAAOO,QAAP,GAAkBJ,MAAMK,QAAxB;AACH,SALD,MAKO;AACHC,eAAGC,IAAH,CAAQ,IAAR,EAAc,mBAAmBX,IAAjC;AACH;;AAED,eAAOC,MAAP;AACH,KApD2B;;;AAsD5B;;;AAGAW,oBAzD4B,4BAyDVZ,IAzDU,EAyDJ;AACpB,YAAIC,SAAS,KAAKF,kBAAL,CAAwBC,IAAxB,CAAb;AACA,eAAOC,MAAP;AACH,KA5D2B;;;AA8D5B;;;AAGAY,aAjE4B,uBAiEf;AACTH,WAAGI,cAAH,CAAkBC,WAAlB,CAA8B,IAA9B;;AAEA,YAAGzC,GAAGW,IAAN,EAAY;AACRX,eAAGW,IAAH,CAAQ8B,WAAR,CAAoB,IAApB;AACH;AACJ;AAvE2B,CAAT,CAAvB","file":"lc_game_sweets_factory.js","sourceRoot":"../../../../../../assets/lcGame/scripts/mgr","sourcesContent":["/**\n * 内容：糖果工厂\n * @type {*|{}}\n */\nwindow.lc = window.lc || {};\n\nlc.GameSweetsFactory = cc.Class({\n\n    extends:cc.Component,\n\n    properties : {\n        sweetsMap: null, // 糖果列表\n    },\n\n    init : function () {\n        this._initSweetsMap();\n    },\n\n    /**\n     * 初始化组件库\n     * @private\n     */\n    _initSweetsMap () {\n        this.sweetsMap = {};\n\n        let sweets_blue = lc.game.asssetMgr.getPrefabByName(\"lc_game_sweets_blue\");\n        this.sweetsMap[lc.GameType.SweetsType.Blue] = sweets_blue;\n\n        let sweets_yellow = lc.game.asssetMgr.getPrefabByName(\"lc_game_sweets_yellow\");\n        this.sweetsMap[lc.GameType.SweetsType.Yellow] = sweets_yellow;\n\n        let sweets_pink = lc.game.asssetMgr.getPrefabByName(\"lc_game_sweets_pink\");\n        this.sweetsMap[lc.GameType.SweetsType.Pink] = sweets_pink;\n\n        let sweets_green = lc.game.asssetMgr.getPrefabByName(\"lc_game_sweets_green\");\n        this.sweetsMap[lc.GameType.SweetsType.Green] = sweets_green;\n\n        let sweets_red = lc.game.asssetMgr.getPrefabByName(\"lc_game_sweets_red\");\n        this.sweetsMap[lc.GameType.SweetsType.Red] = sweets_red;\n    },\n\n    /**\n     * 通过类型创建糖果\n     */\n    createSweetsByType (type) {\n        let sweets = null;\n        let prefab = this.sweetsMap[type];\n\n        if(prefab) {\n            sweets = cc.instantiate(prefab);\n            let logic = sweets.getComponent('lc_game_sweets_base');\n            sweets.priority = logic.Priority;\n            sweets.itemType = logic.ItemType;\n        } else {\n            tm.LOGD(true, \"没有这个糖果的prefab：\" + type);\n        }\n\n        return sweets;\n    },\n\n    /**\n     * 通过类型创建元素\n     */\n    createItemByType (type) {\n        let sweets = this.createSweetsByType(type);\n        return sweets;\n    },\n\n    /**\n     * 释放函数\n     */\n    onDestroy () {\n        tm.notifierCenter.ignoreScope(this);\n\n        if(lc.game) {\n            lc.game.ignoreScope(this);\n        }\n    }\n});"]}