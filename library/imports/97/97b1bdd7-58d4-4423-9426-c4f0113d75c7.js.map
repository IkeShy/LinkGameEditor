{"version":3,"sources":["../../../../../../assets/lcGame/scripts/utils/assets/lcGame/scripts/utils/lc_utils_funs.js"],"names":["window","lc","utils","getUserInfo","model","game","getModel","getBaseInfo","getChangeNumber","num","Math","floor","toString","formatSeconds","value","theTime","parseInt","theTime1","theTime2","result","formatSeconds2","a","hh","mm","ss","length","onRotateScreen","orientation","cc","sys","os","OS_ANDROID","jsb","reflection","callStaticMethod","frameSize","view","getFrameSize","tm","LOGD","width","height","setOrientation","macro","ORIENTATION_PORTRAIT","setFrameSize","ORIENTATION_LANDSCAPE","dispatchEvent","Event","EventCustom","getCurFormatDate","d","Date","month","getMonth","day","getDate","year","getFullYear","date","join","h","getHours","m","getMinutes","s","getSeconds","time","getDateDiff","firstDate","secondDate","fd","sd","getTime"],"mappings":"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","file":"lc_utils_funs.js","sourceRoot":"../../../../../../assets/lcGame/scripts/utils","sourcesContent":["/**\n * 内容: 平台函数工具集合\n *\n */\n\nwindow.lc = window.lc || {};\n\n\nlc.utils = {\n    /**\n     * 获取用户信息\n     * @returns {*}\n     */\n    getUserInfo(){\n        //之前的段位\n        let model = lc.game.getModel(\"game_bind_user\");\n        if(!model){\n            return {};\n        }\n        return model.getBaseInfo();\n    },\n\n    /**\n     * \n     * @param {*} num 传入当前货币数量转化为简写\n     */\n    getChangeNumber(num){\n        if (num >= 10000 && num < 100000) {\n            num = Math.floor(num / 10000 * 100) / 100;\n            return num + \"万\";\n        } else if(num >= 100000 && num < 100000000){\n            num = Math.floor(num / 10000);\n            return num + \"万\";\n        } else if(num >= 100000000 && num < 1000000000) {\n            num = Math.floor(num / 100000000 * 100) / 100;\n            return num + \"亿\";\n        } else if (num >= 1000000000) {\n            num = Math.floor(num / 100000000);\n            return num + \"亿\";\n        }else{\n            return num.toString();\n        }\n    },\n\n    // 秒转化成（2小时25分36秒）\n    formatSeconds(value) {  \n        var theTime = parseInt(value);// 秒  \n        var theTime1 = 0;// 分  \n        var theTime2 = 0;// 小时  \n        if(theTime > 60) {  \n            theTime1 = parseInt(theTime/60);  \n            theTime = parseInt(theTime%60);  \n            if(theTime1 > 60) {  \n                theTime2 = parseInt(theTime1/60);  \n                theTime1 = parseInt(theTime1%60);  \n            }  \n        } \n        var result = \"\"+parseInt(theTime)+\"秒\";\n        if(theTime1 > 0) {  \n            result = \"\"+parseInt(theTime1)+\"分\"+result;\n        }  \n        if(theTime2 > 0) {  \n            result = \"\"+parseInt(theTime2)+\"小时\"+result;\n        }  \n        return result;  \n    },\n      \n    // 秒转化成（02：25：36）\n    formatSeconds2(a) {   \n      var hh = parseInt(a/3600);  \n      if(hh<10) hh = \"0\" + hh;  \n      var mm = parseInt((a-hh*3600)/60);\n      if(mm<10) mm = \"0\" + mm;\n      var ss = parseInt((a-hh*3600)%60);\n      if(ss<10) ss = \"0\" + ss;  \n      var length = hh + \":\" + mm + \":\" + ss;\n      if(a>0){  \n        return length;  \n      }else{  \n        return \"NaN\";  \n      }  \n    },\n\n    /**\n     * \n     * @param {*} orientation (1:横屏，2:竖屏)\n     */\n    onRotateScreen(orientation){\n\n        if(cc.sys.os == cc.sys.OS_ANDROID){\n            jsb.reflection.callStaticMethod('org/cocos2dx/javascript/AppActivity', 'changeOrientation', '(I)V', orientation);\n        }else{\n            jsb.reflection.callStaticMethod(\"AppController\", \"changeOrientation:\",orientation);\n        }\n\n        let frameSize = cc.view.getFrameSize();\n        tm.LOGD('frameSize: '+frameSize.width+'   '+frameSize.height);\n\n        if (orientation == 2) {\n            cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT);\n            if (frameSize.width > frameSize.height){\n                cc.view.setFrameSize(frameSize.height,frameSize.width);\n            }  \n        }\n        else{\n            cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE);\n            if (frameSize.height > frameSize.width){\n                cc.view.setFrameSize(frameSize.height,frameSize.width);\n            }\n        }\n\n        if(window.jsb){ \n            //手动调用触发 Wdiget 组件重新布局\n            window.dispatchEvent(new cc.Event.EventCustom('resize', true));\n        }\n           \n    },\n\n    /**\n     * 获得当前日期时间，格式：\"2019-07-04 10:36:00\"\n     */\n    getCurFormatDate(){\n\n        let d = new Date();\n        let month = \"\" + (d.getMonth() + 1);\n        let day = \"\" + d.getDate();\n        let year = \"\" +d.getFullYear();\n        if (month.length < 2) {\n            month = \"0\" + month;\n        }\n        if (day.length < 2) {\n            day = \"0\" + day;\n        }\n        let date = [year, month, day].join(\"-\");\n\n        let h = \"\" + d.getHours();\n        let m = \"\" + d.getMinutes();\n        let s = \"\" + d.getSeconds();\n        let time = [h, m, s].join(\":\");\n\n        return [date, time].join(\" \");\n    },\n\n    //计算两个日期的毫秒差\n    getDateDiff(firstDate, secondDate){\n        \n        let fd = new Date(firstDate);\n        let sd = new Date(secondDate);\n        return (fd.getTime() - sd.getTime());\n    },\n};"]}