{"version":3,"sources":["lc_game_prop_factory.js"],"names":["window","lc","GamePropFactory","cc","Class","extends","Component","properties","propMap","init","_initPropMap","prop_rocket","game","asssetMgr","getPrefabByName","GameType","PropType","Rocket","createPropByType","type","prop","prefab","sweetsMap","instantiate","logic","getComponent","priority","Priority","itemType","ItemType","tm","LOGD","createItemByType","onDestroy","notifierCenter","ignoreScope"],"mappings":";;;;;;AAAA;;;;AAIAA,OAAOC,EAAP,GAAYD,OAAOC,EAAP,IAAa,EAAzB;;AAEAA,GAAGC,eAAH,GAAqBC,GAAGC,KAAH,CAAS;;AAE1BC,aAAQF,GAAGG,SAFe;;AAI1BC,gBAAa;AACTC,iBAAS,IADA,CACM;AADN,KAJa;;AAQ1BC,UAAO,gBAAY;AACf,aAAKC,YAAL;AACH,KAVyB;;AAY1B;;;;AAIAA,gBAhB0B,0BAgBV;AACZ,aAAKF,OAAL,GAAe,EAAf;;AAEA,YAAIG,cAAcV,GAAGW,IAAH,CAAQC,SAAR,CAAkBC,eAAlB,CAAkC,qBAAlC,CAAlB;AACA,aAAKN,OAAL,CAAaP,GAAGc,QAAH,CAAYC,QAAZ,CAAqBC,MAAlC,IAA4CN,WAA5C;AACH,KArByB;;;AAuB1B;;;AAGAO,oBA1B0B,4BA0BRC,IA1BQ,EA0BF;AACpB,YAAIC,OAAO,IAAX;AACA,YAAIC,SAAS,KAAKC,SAAL,CAAeH,IAAf,CAAb;;AAEA,YAAGE,MAAH,EAAW;AACPD,mBAAOjB,GAAGoB,WAAH,CAAeF,MAAf,CAAP;AACA,gBAAIG,QAAQJ,KAAKK,YAAL,CAAkB,mBAAlB,CAAZ;AACAL,iBAAKM,QAAL,GAAgBF,MAAMG,QAAtB;AACAP,iBAAKQ,QAAL,GAAgBJ,MAAMK,QAAtB;AACH,SALD,MAKO;AACHC,eAAGC,IAAH,CAAQ,IAAR,EAAc,mBAAmBZ,IAAjC;AACH;;AAED,eAAOC,IAAP;AACH,KAxCyB;;;AA0C1B;;;AAGAY,oBA7C0B,4BA6CRb,IA7CQ,EA6CF;AACpB,YAAIC,OAAO,KAAKF,gBAAL,CAAsBC,IAAtB,CAAX;AACA,eAAOC,IAAP;AACH,KAhDyB;;;AAkD1B;;;AAGAa,aArD0B,uBAqDb;AACTH,WAAGI,cAAH,CAAkBC,WAAlB,CAA8B,IAA9B;;AAEA,YAAGlC,GAAGW,IAAN,EAAY;AACRX,eAAGW,IAAH,CAAQuB,WAAR,CAAoB,IAApB;AACH;AACJ;AA3DyB,CAAT,CAArB","file":"lc_game_prop_factory.js","sourceRoot":"../../../../../../assets/lcGame/scripts/mgr","sourcesContent":["/**\n * 内容：道具工厂\n * @type {*|{}}\n */\nwindow.lc = window.lc || {};\n\nlc.GamePropFactory = cc.Class({\n\n    extends:cc.Component,\n\n    properties : {\n        propMap: null, // 糖果列表\n    },\n\n    init : function () {\n        this._initPropMap();\n    },\n\n    /**\n     * 初始化组件库\n     * @private\n     */\n    _initPropMap () {\n        this.propMap = {};\n\n        let prop_rocket = lc.game.asssetMgr.getPrefabByName(\"lc_game_prop_rocket\");\n        this.propMap[lc.GameType.PropType.Rocket] = prop_rocket;\n    },\n\n    /**\n     * 通过类型创建道具\n     */\n    createPropByType (type) {\n        let prop = null;\n        let prefab = this.sweetsMap[type];\n\n        if(prefab) {\n            prop = cc.instantiate(prefab);\n            let logic = prop.getComponent('lc_game_prop_base');\n            prop.priority = logic.Priority;\n            prop.itemType = logic.ItemType;\n        } else {\n            tm.LOGD(true, \"没有这个道具的prefab：\" + type);\n        }\n\n        return prop;\n    },\n\n    /**\n     * 通过类型创建元素\n     */\n    createItemByType (type) {\n        let prop = this.createPropByType(type);\n        return prop;\n    },\n\n    /**\n     * 释放函数\n     */\n    onDestroy () {\n        tm.notifierCenter.ignoreScope(this);\n\n        if(lc.game) {\n            lc.game.ignoreScope(this);\n        }\n    }\n});"]}