{"version":3,"sources":["tm_effect_loading.js"],"names":["cc","Class","extends","Component","properties","title","Label","bg","Node","onLoad","_aniCtrl","getComponent","Animation","node","active","tm","notifierCenter","register","Event","EVT_POP_COMMON_LOADING_EFFECT","onShowEffect","onDestroy","ignoreScope","args","bShow","height","width","info","string","play","start"],"mappings":";;;;;;AAAA;;;AAGAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAML,GAAGM,KADD;;AAGRC,YAAGP,GAAGQ;;AAHE,KAHP;;AAUL;;AAEAC,UAZK,oBAYK;AACN,aAAKC,QAAL,GAAgB,KAAKC,YAAL,CAAkBX,GAAGY,SAArB,CAAhB;AACA,aAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACAC,WAAGC,cAAH,CAAkBC,QAAlB,CAA2BF,GAAGG,KAAH,CAASC,6BAApC,EAAmE,KAAKC,YAAxE,EAAsF,IAAtF;AACH,KAhBI;AAkBLC,aAlBK,uBAkBM;AACPN,WAAGC,cAAH,CAAkBM,WAAlB,CAA8B,IAA9B;AACH,KApBI;AAsBLF,gBAtBK,wBAsBQG,IAtBR,EAsBa;;AAEd,YAAIC,QAAQD,IAAZ;AACA,YAAG,OAAOA,IAAP,IAAe,SAAlB,EAA4B;AACxB,iBAAKlB,KAAL,CAAWQ,IAAX,CAAgBC,MAAhB,GAAyB,KAAzB;AACA,iBAAKP,EAAL,CAAQkB,MAAR,GAAiB,KAAKlB,EAAL,CAAQmB,KAAzB;AACH,SAHD,MAGM;AACF,gBAAIC,OAAOJ,IAAX;AACAC,oBAAQG,KAAKH,KAAb;;AAEA,gBAAGG,KAAKtB,KAAR,EAAc;AACV,qBAAKA,KAAL,CAAWQ,IAAX,CAAgBC,MAAhB,GAAyB,IAAzB;AACA,qBAAKT,KAAL,CAAWuB,MAAX,GAAoBD,KAAKtB,KAAzB;AACA,qBAAKE,EAAL,CAAQkB,MAAR,GAAiB,KAAKlB,EAAL,CAAQmB,KAAR,GAAgB,EAAjC;AACH;AACJ;;AAED,YAAGF,KAAH,EAAS;AACL,iBAAKd,QAAL,CAAcmB,IAAd,CAAmB,uBAAnB;AACA,iBAAKhB,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACH,SAHD,MAGM;AACF,iBAAKD,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH;AACJ,KA7CI;AA+CLgB,SA/CK,mBA+CI,CAER;AAjDI;;AAmDL;AAnDJ","file":"tm_effect_loading.js","sourceRoot":"../../../../../assets/commonScript/component","sourcesContent":["/**\n * loading 界面\n */\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        title:cc.Label,\n\n        bg:cc.Node,\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this._aniCtrl = this.getComponent(cc.Animation);\n        this.node.active = false;\n        tm.notifierCenter.register(tm.Event.EVT_POP_COMMON_LOADING_EFFECT, this.onShowEffect, this);\n    },\n\n    onDestroy(){\n        tm.notifierCenter.ignoreScope(this);\n    },\n\n    onShowEffect(args){\n\n        let bShow = args;\n        if(typeof args == 'boolean'){\n            this.title.node.active = false;\n            this.bg.height = this.bg.width;\n        }else {\n            let info = args;\n            bShow = info.bShow;\n\n            if(info.title){\n                this.title.node.active = true;\n                this.title.string = info.title;\n                this.bg.height = this.bg.width + 20;\n            }\n        }\n\n        if(bShow){\n            this._aniCtrl.play(\"common_effect_loading\");\n            this.node.active = true;\n        }else {\n            this.node.active = false;\n        }\n    },\n\n    start () {\n\n    },\n\n    // update (dt) {},\n});\n"]}