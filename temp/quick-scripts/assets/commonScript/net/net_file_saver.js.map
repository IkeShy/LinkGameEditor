{"version":3,"sources":["net_file_saver.js"],"names":["global","factory","define","amd","exports","mod","FileSaver","_global","window","self","bom","blob","opts","autoBom","console","warn","test","type","Blob","String","fromCharCode","download","url","name","xhr","XMLHttpRequest","open","responseType","onload","saveAs","response","onerror","error","send","corsEnabled","e","status","click","node","dispatchEvent","MouseEvent","evt","document","createEvent","initMouseEvent","HTMLAnchorElement","prototype","URL","webkitURL","a","createElement","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","navigator","msSaveOrOpenBlob","popup","title","body","innerText","force","isSafari","HTMLElement","safari","isChromeIOS","userAgent","FileReader","reader","onloadend","result","replace","readAsDataURL","module"],"mappings":"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","file":"net_file_saver.js","sourceRoot":"../../../../../assets/commonScript/net","sourcesContent":["(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory();\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory();\n    global.FileSaver = mod.exports;\n  }\n})(this, function () {\n  \"use strict\";\n\n  /*\n  * FileSaver.js\n  * A saveAs() FileSaver implementation.\n  *\n  * By Eli Grey, http://eligrey.com\n  *\n  * License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n  * source  : http://purl.eligrey.com/github/FileSaver.js\n  */\n  // The one and only way of getting global scope in all environments\n  // https://stackoverflow.com/q/3277182/1008999\n  var _global = typeof window === 'object' && window.window === window ? window : typeof self === 'object' && self.self === self ? self : typeof global === 'object' && global.global === global ? global : void 0;\n\n  function bom(blob, opts) {\n    if (typeof opts === 'undefined') opts = {\n      autoBom: false\n    };else if (typeof opts !== 'object') {\n      console.warn('Deprecated: Expected third argument to be a object');\n      opts = {\n        autoBom: !opts\n      };\n    } // prepend BOM for UTF-8 XML and text/* types (including HTML)\n    // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\n    if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n      return new Blob([String.fromCharCode(0xFEFF), blob], {\n        type: blob.type\n      });\n    }\n\n    return blob;\n  }\n\n  function download(url, name, opts) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.responseType = 'blob';\n\n    xhr.onload = function () {\n      saveAs(xhr.response, name, opts);\n    };\n\n    xhr.onerror = function () {\n      console.error('could not download file');\n    };\n\n    xhr.send();\n  }\n\n  function corsEnabled(url) {\n    var xhr = new XMLHttpRequest(); // use sync to avoid popup blocker\n\n    xhr.open('HEAD', url, false);\n\n    try {\n      xhr.send();\n    } catch (e) {}\n\n    return xhr.status >= 200 && xhr.status <= 299;\n  } // `a.click()` doesn't work for all browsers (#465)\n\n\n  function click(node) {\n    try {\n      node.dispatchEvent(new MouseEvent('click'));\n    } catch (e) {\n      var evt = document.createEvent('MouseEvents');\n      evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\n      node.dispatchEvent(evt);\n    }\n  }\n\n  var saveAs = _global.saveAs || ( // probably in some web worker\n  typeof window !== 'object' || window !== _global ? function saveAs() {}\n  /* noop */\n  // Use download attribute first if possible (#193 Lumia mobile)\n  : 'download' in HTMLAnchorElement.prototype ? function saveAs(blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL;\n    var a = document.createElement('a');\n    name = name || blob.name || 'download';\n    a.download = name;\n    a.rel = 'noopener'; // tabnabbing\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob;\n\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href) ? download(blob, name, opts) : click(a, a.target = '_blank');\n      } else {\n        click(a);\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob);\n      setTimeout(function () {\n        URL.revokeObjectURL(a.href);\n      }, 4E4); // 40s\n\n      setTimeout(function () {\n        click(a);\n      }, 0);\n    }\n  } // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator ? function saveAs(blob, name, opts) {\n    name = name || blob.name || 'download';\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts);\n      } else {\n        var a = document.createElement('a');\n        a.href = blob;\n        a.target = '_blank';\n        setTimeout(function () {\n          click(a);\n        });\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name);\n    }\n  } // Fallback to using FileReader and a popup\n  : function saveAs(blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank');\n\n    if (popup) {\n      popup.document.title = popup.document.body.innerText = 'downloading...';\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts);\n    var force = blob.type === 'application/octet-stream';\n\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari;\n\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n\n    if ((isChromeIOS || force && isSafari) && typeof FileReader === 'object') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        var url = reader.result;\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;');\n        if (popup) popup.location.href = url;else location = url;\n        popup = null; // reverse-tabnabbing #460\n      };\n\n      reader.readAsDataURL(blob);\n    } else {\n      var URL = _global.URL || _global.webkitURL;\n      var url = URL.createObjectURL(blob);\n      if (popup) popup.location = url;else location.href = url;\n      popup = null; // reverse-tabnabbing #460\n\n      setTimeout(function () {\n        URL.revokeObjectURL(url);\n      }, 4E4); // 40s\n    }\n  });\n  _global.saveAs = saveAs.saveAs = saveAs;\n\n  if (typeof module !== 'undefined') {\n    module.exports = saveAs;\n  }\n});\n"]}